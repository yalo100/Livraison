<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Livraison ‚Äì Connexion client</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="logo">
        <div class="mark">üöö</div>
        <span>Livraison Client</span>
      </div>
      <nav class="nav">
        <a href="#services">Services</a>
        <a href="#tracking">Suivi</a>
        <a class="nav__cta" href="#login-card">Se connecter</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="hero__copy">
          <p class="eyebrow eyebrow--accent">Inspir√© par la fiabilit√© DHL</p>
          <h1>Livraisons rapides, visibilit√© totale</h1>
          <p>
            Planifiez vos envois, consultez l‚Äôavancement en temps r√©el et restez inform√©
            de chaque √©tape. Une exp√©rience moderne, s√©curis√©e et 100% Supabase.
          </p>
          <div class="cta-row">
            <a class="button ghost" href="#services">D√©couvrir la plateforme</a>
            <a class="button" href="#login-card">Acc√©der √† mon compte</a>
          </div>
          <div class="hero__stats">
            <div>
              <p class="stat-value">99.9%</p>
              <p class="stat-label">Disponibilit√©</p>
            </div>
            <div>
              <p class="stat-value">Temps r√©el</p>
              <p class="stat-label">Suivi des statuts</p>
            </div>
            <div>
              <p class="stat-value">S√©curis√©</p>
              <p class="stat-label">RLS Supabase</p>
            </div>
          </div>
        </div>

        <div class="card card--glass highlight" id="login-card" aria-label="Connexion client">
          <div class="card__header">
            <div>
              <p class="eyebrow">Espace s√©curis√©</p>
              <h2>Connexion</h2>
            </div>
            <div class="badge">Client</div>
          </div>

          <div class="card__content">
            <form id="login-form">
              <div class="field">
                <label for="email">Email</label>
                <input
                  id="email"
                  name="email"
                  type="email"
                  placeholder="vous@example.com"
                  autocomplete="email"
                  required
                />
              </div>
              <div class="field">
                <label for="password">Mot de passe</label>
                <input
                  id="password"
                  name="password"
                  type="password"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  autocomplete="current-password"
                  required
                />
              </div>
              <button type="submit">Se connecter</button>
              <p id="login-feedback" class="form-feedback" role="status"></p>
            </form>
            <div class="trust">
              <span class="dot"></span>
              <p class="muted">Vos commandes sont verrouill√©es apr√®s cr√©ation.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="cards-grid" id="services">
        <article class="card card--feature">
          <div class="icon">‚è±Ô∏è</div>
          <h3>Cr√©ation rapide</h3>
          <p>
            Enregistrez vos adresses de collecte et de livraison en quelques secondes.
            Les commandes sont verrouill√©es d√®s l'enregistrement pour garantir l'int√©grit√©.
          </p>
        </article>
        <article class="card card--feature">
          <div class="icon">üì°</div>
          <h3>Suivi temps r√©el</h3>
          <p>
            Les statuts s‚Äôactualisent en direct via Supabase Realtime. Aucune action
            manuelle, aucune page √† recharger.
          </p>
        </article>
        <article class="card card--feature">
          <div class="icon">üîí</div>
          <h3>Acc√®s s√©curis√©</h3>
          <p>
            Authentification Supabase, r√®gles RLS appliqu√©es et s√©paration claire entre
            clients et administrateurs.
          </p>
        </article>
      </section>

      <section class="panel" id="tracking">
        <div class="panel__content">
          <div>
            <p class="eyebrow">Tracking</p>
            <h2>Une vue claire de chaque √©tape</h2>
            <p class="muted">
              Consultez l‚Äôhistorique des statuts, la date de cr√©ation, les horaires de
              collecte et de livraison pr√©vus. Le tout en lecture seule pour pr√©server
              la tra√ßabilit√©.
            </p>
            <div class="chips">
              <span class="chip">Lecture seule</span>
              <span class="chip">Statuts d√©taill√©s</span>
              <span class="chip">Notifications en direct</span>
            </div>
          </div>
          <div class="panel__mock">
            <div class="mock-card">
              <header>
                <div>
                  <p class="eyebrow">Commande</p>
                  <strong>#10245</strong>
                </div>
                <span class="badge">en transit</span>
              </header>
              <ul>
                <li><span>Collecte</span><strong>12 Av. des Lilas, Paris</strong></li>
                <li><span>Livraison</span><strong>5 rue du Port, Nantes</strong></li>
                <li><span>Dernier statut</span><strong>Colis scann√© au hub</strong></li>
              </ul>
              <div class="timeline">
                <div class="dot dot--active"></div>
                <div class="line"></div>
                <div class="dot dot--active"></div>
                <div class="line"></div>
                <div class="dot"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <template id="status-template">
      <div class="status-list"></div>
    </template>

    <script type="module">
      import { redirectIfLoggedIn, setupAuthUI } from './js/auth.js'
      await redirectIfLoggedIn()
      setupAuthUI()
    </script>
  </body>
</html>
